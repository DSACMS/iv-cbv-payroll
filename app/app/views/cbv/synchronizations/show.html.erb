<% content_for :title, t(".header") %>
<div data-controller="cbv-synchronizations">
  <h1>
    <%= t(".header") %>
  </h1>
  <div class="usa-prose">
    <p>
      <%= t(".fetching_payroll_description") %>
    </p>
  </div>
  <%= form_with url: next_path, method: :get, class: "display-none", data: { 'cbv-synchronizations-target': "form" } do |f| %>
    <input type="hidden" name="user[account_id]" value="<%= params[:user][:account_id] %>" data-cbv-synchronizations-target="userAccountId">
  <% end %>
  <div
    class="grid-container"
  >
    <div class="grid-row">
      <div
        class="grid-col-fill"
        data-cbv-synchronizations-target="incomeJob"
      >
        <%= render partial: "cbv/synchronizations/indicator", locals: { completed: job_completed?("income") } %>
        <p><%= t(".jobs.income") %></p>
      </div>
      <div
        class="grid-col-fill"
        data-cbv-synchronizations-target="employmentJob"
      >
        <%= render partial: "cbv/synchronizations/indicator", locals: { completed: job_completed?("employment") } %>
        <p><%= t(".jobs.employment") %></p>
      </div>
      <div
        class="grid-col-fill"
        data-cbv-synchronizations-target="paystubsJob"
      >
        <%= render partial: "cbv/synchronizations/indicator", locals: { completed: job_completed?("paystubs") } %>
        <p><%= t(".jobs.paystubs") %></p>
      </div>
      <div
        class="grid-col-fill"
        data-cbv-synchronizations-target="identityJob"
      >
        <%= render partial: "cbv/synchronizations/indicator", locals: { completed: job_completed?("identity") } %>
        <p><%= t(".jobs.identity") %></p>
      </div>
    </div>
  </div>
</div>
