<%= render(TableComponent.new) do |table| %>
  <%= table.with_header.with_content(self.total_income_header) %>
  <% if @has_monthly_summary_results %>
    <% @monthly_summary_data.each_with_index do |(month_string, summary), index| %>
      <%= table.with_row(self.month_income(month_string, summary)) %>
    <% end %>
  <% else %>
    <%= table.with_row(format_no_payments_found) %>
  <% end %>
<% end %>
